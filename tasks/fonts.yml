# yamllint disable rule:line-length
# yaml-language-server: $schema=https://raw.githubusercontent.com/ansible/ansible-lint/main/src/ansiblelint/schemas/ansible.json#/$defs/tasks
# yamllint enable rule:line-length
---
- name: Ensure fonts folder
  ansible.builtin.file:
    state: directory
    path: "{{ ansible_user_dir }}/.local/share/fonts"
    mode: "755"

- name: Nerd Fonts
  vars:
    nerd_fonts:
      - name: Ubuntu
        version: 3.0.2
        sha256: 50382f10ad5574c4cdf599c4957487fd28c9f94d3db92c6baf1aafb59fe8640a
      - name: UbuntuMono
        version: 3.0.2
        sha256: 771cffc071477e5bf7cef1d63df3b7a0275da1357aa99f44dade781c670d846f
  ansible.builtin.include_tasks: "fonts/nerd-fonts.yml"
  loop: "{{ nerd_fonts }}"
  loop_control:
    loop_var: font

- name: Update fonts cache
  ansible.builtin.command:
    argv:
      - fc-cache
      - "{{ ansible_user_dir }}/.local/share/fonts"
  changed_when: false
